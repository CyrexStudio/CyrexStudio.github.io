<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Détail du projet</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Cyrex Studio : experts en développement web, logiciel sur-mesure, sécurité informatique, audit et consulting. Découvrez nos projets innovants et nos compétences." />
    <meta name="keywords" content="Cyrex Studio, développement web, logiciel, sécurité, audit, consulting, API, bots Discord, progiciels, automatisation, design moderne" />
    <meta name="author" content="Cyrex Studio" />
    <meta name="robots" content="index, follow" />
    <meta property="og:title" content="Cyrex Studio - Développement Web, Logiciel & Sécurité" />
    <meta property="og:description" content="Cyrex Studio : experts en développement web, logiciel sur-mesure, sécurité informatique, audit et consulting." />
    <meta property="og:image" content="assets/cyrex.png" />
    <meta property="og:url" content="https://cyrex.fr/" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Cyrex Studio - Développement Web, Logiciel & Sécurité" />
    <meta name="twitter:description" content="Cyrex Studio : experts en développement web, logiciel sur-mesure, sécurité informatique, audit et consulting." />
    <meta name="twitter:image" content="https://cyrex.fr/assets/cyrex.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="assets/cyrex.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="assets/cyrex.png" />
    <link rel="manifest" href="assets/site.webmanifest" />
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
      /* Thème markdown sombre */
      .markdown-body {
        background: #181a1b !important;
        color: #e3e6e8 !important;
        max-width: 900px;
        margin: 0 auto;
        border-radius: 12px;
        box-shadow: 0 2px 16px rgba(0,0,0,0.18);
        padding: 32px;
        font-size: 1.08rem;
        line-height: 1.7;
        font-family: "Segoe UI", "Arial", "Helvetica Neue", sans-serif;
      }
      .markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4 {
        color: #00eaff !important;
        margin-top: 1.5em;
        margin-bottom: 0.7em;
        font-weight: 600;
      }
      .markdown-body code {
        background: #23272a;
        color: #00eaff;
        border-radius: 6px;
        padding: 2px 6px;
        font-size: 0.97em;
        font-family: "Fira Mono", "Consolas", "Menlo", monospace;
      }
      .markdown-body pre {
        background: #23272a;
        color: #00eaff;
        border-radius: 10px;
        padding: 14px;
        overflow-x: auto;
        margin-bottom: 1em;
        font-family: "Fira Mono", "Consolas", "Menlo", monospace;
      }
      .markdown-body table {
        border-collapse: collapse;
        margin: 1em 0;
        width: 100%;
      }
      .markdown-body th, .markdown-body td {
        border: 1px solid #00eaff;
        padding: 8px 12px;
        text-align: left;
      }
      .markdown-body th {
        background: #23272a;
        color: #00eaff;
      }
      .markdown-body img {
        max-width: 100%;
        border-radius: 8px;
        margin: 18px 0;
        background: none !important;
        box-shadow: none !important;
        display: block;
        filter: none !important;
      }
      .markdown-body ul, .markdown-body ol {
        margin-left: 2em;
        margin-bottom: 1em;
      }
      .markdown-body blockquote {
        border-left: 4px solid #00eaff;
        background: #23272a;
        padding: 8px 18px;
        margin: 1em 0;
        color: #b3c6d1;
        border-radius: 8px;
      }
      .markdown-body a {
        color: #00eaff !important;
        text-decoration: underline;
        word-break: break-all;
      }
      .markdown-body hr {
        border: none;
        border-top: 1px solid #23272a;
        margin: 2em 0;
      }
      body {
        background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
      }
      section#project-detail {
        background: none;
        box-shadow: none;
        padding: 80px 0;
      }
      #backToProjects {
        position: fixed;
        right: 32px;
        bottom: 32px;
        z-index: 999;
        background: cyan;
        color: #181a1b;
        padding: 14px 28px;
        border-radius: 24px;
        box-shadow: 0 0 18px cyan;
        font-weight: 600;
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <button id="backToTop" title="Retour en haut">↑</button>
    <div id="loader"><div class="loader-cyrex"></div></div>
    <section id="project-detail" class="fade-in">
      <h2 id="project-title">Projet</h2>
      <div id="project-readme" class="markdown-body"></div>
    </section>
    <a href="/#projects" id="backToProjects" class="btn">
      ← Retour aux projets
    </a>
    <footer>
      <p>© 2025 Cyrex Studio. Tous droits réservés.</p>
    </footer>
    <script>
      // Récupère l'id du projet depuis l'URL
      const params = new URLSearchParams(window.location.search);
      const projectId = params.get('id');
      const titleMap = {
        bitsdefender: "BitsDefender",
        keyscapes: "Keyscapes",
        streamit: "StreamIt"
      };
      document.getElementById('project-title').textContent = titleMap[projectId] || "Projet";

      // Configure marked pour sécuriser le rendu
      marked.setOptions({
        breaks: true,
        gfm: true,
        mangle: false,
        headerIds: false,
        sanitizer: null,
      });

      // Charge le README markdown
      if (projectId) {
        fetch(`assets/projects/${projectId}.md`)
          .then(r => r.ok ? r.text() : Promise.reject())
          .then(md => {
            document.getElementById('project-readme').innerHTML = marked.parse(md);
            window.scrollTo({ top: 0, behavior: "instant" });
          })
          .catch(() => {
            document.getElementById('project-readme').innerHTML = "<p>README non trouvé pour ce projet.</p>";
          });
      } else {
        document.getElementById('project-readme').innerHTML = "<p>Projet inconnu.</p>";
      }
    </script>
    <script src="script.js"></script>
  </body>
</html>
